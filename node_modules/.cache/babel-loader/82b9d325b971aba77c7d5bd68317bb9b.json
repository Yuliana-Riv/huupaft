{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { VueEditor } from \"vue2-editor\";\nimport { mapActions } from \"vuex\";\nlet urlpath = require(\"../../global/index\");\nexport default {\n  components: {\n    VueEditor\n  },\n  data() {\n    return {\n      urlpath: urlpath,\n      title: \"\",\n      descrp: \"\",\n      url: \"\",\n      id_autor: \"\",\n      autorname: \"\",\n      id_category: \"\",\n      catname: \"\",\n      id_colaborador: \"\",\n      file1: null,\n      archivo: \"No se eligió archivo\",\n      colname: \"\",\n      dateblog: \"\",\n      formato: \"\",\n      tags: [],\n      //etiquetas agregadas\n      images: [],\n      //imagenes agregadas\n\n      //bloques\n      body: [],\n      tipo: \"texto\",\n      caja1: \"texto\",\n      caja2: \"texto\",\n      image: null,\n      name_imagen: \"\",\n      frase_destacada: \"\",\n      video: \"\",\n      frase: \"\",\n      firma: \"\",\n      texto: \"\",\n      image2: null,\n      name_imagen2: \"\",\n      frase_destacada2: \"\",\n      video2: \"\",\n      frase2: \"\",\n      firma2: \"\",\n      texto2: \"\",\n      editorOption: {\n        modules: {},\n        theme: \"snow\"\n      },\n      status: \"\",\n      message: \"\",\n      //selects\n\n      active: false,\n      active2: false,\n      active3: false,\n      active4: false,\n      active5: false,\n      active6: false,\n      active7: false,\n      viewModal: false,\n      search_value: \"\",\n      updsearchcli: \"\"\n    };\n  },\n  updated() {\n    if (this.search_value != this.updsearchcli) {\n      this.updsearchcli = this.search_value;\n      let option = \"tag\";\n      let value = this.search_value;\n      let payload = {\n        option: option,\n        search: value\n      };\n      if (value != \"\") {\n        this.$store.dispatch(\"tag/searchTg\", payload);\n      } else {\n        this.getAllInfoTg(\"tag\");\n      }\n    }\n  },\n  created() {\n    this.getAllInfoTg(\"tag\");\n    this.getAllInfoCat(\"category\");\n    this.getAllInfoClb(\"colaboradores\");\n    this.getAllInfoUsr(\"usuarios\");\n  },\n  computed: {\n    etiquetas() {\n      return this.$store.getters[\"tag/data\"];\n    },\n    colaboradores() {\n      return this.$store.getters[\"colaboradores/data\"];\n    },\n    usuarios() {\n      return this.$store.getters[\"usuarios/data\"];\n    },\n    categorias() {\n      let arr = this.$store.getters[\"category/data\"];\n      let narr = [];\n      for (let i = 0; i < arr.length; i++) {\n        if (arr[i].parent_name == 'BLOG') {\n          narr.push(arr[i]);\n        }\n      }\n      return narr;\n    }\n  },\n  methods: {\n    ...mapActions(\"tag\", [\"getAllInfoTg\"]),\n    ...mapActions(\"category\", [\"getAllInfoCat\"]),\n    ...mapActions(\"usuarios\", [\"getAllInfoUsr\"]),\n    ...mapActions(\"colaboradores\", [\"getAllInfoClb\"]),\n    ...mapActions(\"blog\", [\"setAddedBlo\"]),\n    ...mapActions(\"blog\", [\"setHistoryOptionBlo\"]),\n    UpItem: function (item, key) {\n      let bloques = this.body;\n      let anterior = key - 1;\n      let actual = key;\n      let item_actual = item;\n      let item_anterior = bloques[key - 1];\n      let array = [];\n      for (var i = 0; i < bloques.length; i++) {\n        if (i == actual) {\n          array.push(item_anterior);\n        } else if (i == anterior) {\n          array.push(item_actual);\n        } else {\n          array.push(bloques[i]);\n        }\n      }\n      this.body = array;\n    },\n    DownItem: function (item, key) {\n      let bloques = this.body;\n      let siguiente = key + 1;\n      let actual = key;\n      let item_actual = item;\n      let item_siguiente = bloques[key + 1];\n      let array = [];\n      for (var i = 0; i < bloques.length; i++) {\n        if (i == actual) {\n          array.push(item_siguiente);\n        } else if (i == siguiente) {\n          array.push(item_actual);\n        } else {\n          array.push(bloques[i]);\n        }\n      }\n      this.body = array;\n    },\n    DelItem: async function (bloq, key) {\n      let bloques = this.body;\n      let array = [];\n      for (var i = 0; i < bloques.length; i++) {\n        if (i != key) {\n          array.push(bloques[i]);\n        }\n      }\n      this.body = array;\n\n      //! eliminar la imagen si es de tipo imagen.\n      if (bloq.tipo == \"imagen\") {\n        let result = await this.$store.dispatch(\"blog/deleteItemBlo\", {\n          option: \"blogimage\",\n          id: bloq.imagen\n        });\n      }\n      if (bloq.tipo == \"caja\") {\n        if (bloq.caja[0].tipo == \"imagen\") {\n          let result = await this.$store.dispatch(\"blog/deleteItemBlo\", {\n            option: \"blogimage\",\n            id: bloq.caja[0].imagen\n          });\n        }\n        if (bloq.caja[1].tipo == \"imagen\") {\n          let result = await this.$store.dispatch(\"blog/deleteItemBlo\", {\n            option: \"blogimage\",\n            id: bloq.caja[1].imagen\n          });\n        }\n      }\n    },\n    CambiarOrdenCaja: function (bloq, key) {\n      let bloques = this.body;\n      let array = [];\n      for (var i = 0; i < bloques.length; i++) {\n        if (i != key) {\n          array.push(bloques[i]);\n        } else {\n          let model = {\n            caja: [bloq.caja[1], bloq.caja[0]],\n            tipo: \"caja\"\n          };\n          array.push(model);\n        }\n      }\n      this.body = array;\n    },\n    search: async function (value) {\n      let option = \"tag\";\n      let payload = {\n        option: option,\n        search: value\n      };\n      if (value != \"\") {\n        this.$store.dispatch(\"tag/searchTg\", payload);\n      } else {\n        this.getAllInfoTg(\"tag\");\n      }\n    },\n    pushValue(param) {\n      let array = [];\n      let encontrado = false;\n      for (const item of this.tags) {\n        item == param ? encontrado = true : encontrado;\n        array.push(item);\n      }\n      if (encontrado) {\n        this.status = \"error\";\n        this.message = \"Etiqueta ya agregada\";\n        this.delStatus();\n      } else {\n        array.push(param);\n      }\n      this.tags = array;\n    },\n    delValue(param) {\n      let array = [];\n      for (const item of this.tags) {\n        item != param ? array.push(item) : array;\n      }\n      this.tags = array;\n    },\n    closeSelect() {\n      this.active = false;\n      document.getElementById(\"select-ch\").checked = false;\n    },\n    closeSelect2() {\n      this.active2 = false;\n      document.getElementById(\"select-ch2\").checked = false;\n    },\n    closeSelect3() {\n      this.active3 = false;\n      document.getElementById(\"select-ch3\").checked = false;\n    },\n    closeSelect4() {\n      this.active4 = false;\n      document.getElementById(\"select-ch4\").checked = false;\n    },\n    closeSelect5() {\n      this.active5 = false;\n      document.getElementById(\"select-ch5\").checked = false;\n    },\n    closeSelect6() {\n      this.active6 = false;\n      document.getElementById(\"select-ch6\").checked = false;\n    },\n    closeSelect7() {\n      this.active7 = false;\n      document.getElementById(\"select-ch7\").checked = false;\n    },\n    wait: function () {\n      setTimeout(() => this.$router.go(), 200);\n    },\n    submit: async function (title, descrp, id_autor, id_category, id_colaborador, dateblog, formato, file1, body, tags, images, url) {\n      this.status = \"\";\n      this.message = \"\";\n\n      //todo validar body almenos 1 bloque.\n\n      formato = \"F1\";\n      body = JSON.stringify(body);\n      tags = JSON.stringify(tags);\n      images = JSON.stringify(images);\n      var data = new FormData();\n      data.append(\"title\", title);\n      data.append(\"url\", url);\n      data.append(\"descrp\", descrp);\n      data.append(\"id_autor\", id_autor);\n      data.append(\"id_category\", id_category);\n      data.append(\"id_colaborador\", id_colaborador);\n      data.append(\"dateblog\", dateblog);\n      data.append(\"formato\", formato);\n      data.append(\"body\", body);\n      data.append(\"tags\", tags);\n      data.append(\"imagenes\", images);\n      data.append(\"image\", file1);\n      data.append(\"_method\", \"POST\");\n      let result = await this.$store.dispatch(\"blog/addItemBlo\", {\n        option: \"blog\",\n        item: data\n      });\n      if (result.status == \"error\") {\n        this.status = \"error\";\n        this.message = result.message;\n      } else {\n        // success\n        this.setAddedBlo(result.added);\n        this.showModal();\n      }\n    },\n    delStatus: function () {\n      setTimeout(() => this.delMsgs(), 2000);\n    },\n    closeSelect() {\n      this.active = false;\n      document.getElementById(\"select-ch\").checked = false;\n    },\n    showModal: function () {\n      this.viewModal = true;\n    },\n    closeModal: function () {\n      this.viewModal = false;\n      this.setAddedBlo(\"\");\n      this.setHistoryOptionBlo(\"Default\");\n    },\n    Add: function () {\n      this.status = \"\";\n      this.message = \"\";\n      this.title = \"\";\n      this.url = \"\";\n      this.descrp = \"\";\n      this.id_autor = \"\";\n      this.autorname = \"\";\n      this.id_category = \"\";\n      this.catname = \"\";\n      this.id_colaborador = \"\";\n      this.file1 = null;\n      this.archivo = \"No se eligió archivo\";\n      this.colname = \"\";\n      this.dateblog = \"\";\n      this.formato = \"\";\n      this.tags = [];\n      this.images = [];\n\n      //!resetear bloques\n      this.body = [];\n      this.tipo = \"texto\";\n      this.caja1 = \"texto\";\n      this.caja2 = \"texto\";\n      this.image = null;\n      this.name_imagen = \"\";\n      this.frase_destacada = \"\";\n      this.video = \"\";\n      this.frase = \"\";\n      this.firma = \"\";\n      this.texto = \"\";\n      this.image2 = null;\n      this.name_imagen2 = \"\";\n      this.frase_destacada2 = \"\";\n      this.video2 = \"\";\n      this.frase2 = \"\";\n      this.firma2 = \"\";\n      this.texto2 = \"\";\n      this.viewModal = false;\n      this.setAddedBlo(\"\");\n    },\n    toEdit: function () {\n      this.setHistoryOptionBlo(\"Edit\");\n      this.viewModal = false;\n    },\n    back: function () {\n      setTimeout(() => this.$router.go(), 200);\n    },\n    // bloques\n    async guardarBloque(tipo) {\n      if (tipo == \"texto\") {\n        if (this.texto == undefined || this.texto == \"\" || this.texto == null) {\n          this.status = \"error\";\n          this.message = \"Texto vacio.\";\n          this.delStatus();\n        } else {\n          let array = [];\n          for (const bloque of this.body) {\n            array.push(bloque);\n          }\n          let model = {\n            texto: this.texto,\n            tipo: tipo\n          };\n          array.push(model);\n          this.body = array;\n          this.texto = \"\";\n        }\n      } else if (tipo == \"video\") {\n        if (this.video == undefined || this.video == \"\" || this.video == null) {\n          this.status = \"error\";\n          this.message = \"Agrega un video.\";\n          this.delStatus();\n        } else {\n          let array = [];\n          for (const bloque of this.body) {\n            array.push(bloque);\n          }\n          let model = {\n            video: this.video,\n            tipo: tipo\n          };\n          array.push(model);\n          this.body = array;\n          this.video = \"\";\n        }\n      } else if (tipo == \"imagen\") {\n        if (this.name_imagen == undefined || this.name_imagen == \"\" || this.name_imagen == null) {\n          this.status = \"error\";\n          this.message = \"No has subido una imagen.\";\n          this.image = null;\n          this.name_imagen = \"\";\n          this.delStatus();\n        } else {\n          let array = [];\n          for (const bloque of this.body) {\n            array.push(bloque);\n          }\n\n          //* subir imagen al backend\n\n          var data = new FormData();\n          data.append(\"image\", this.image);\n          data.append(\"_method\", \"POST\");\n          let result = await this.$store.dispatch(\"blog/addItemBlo\", {\n            option: \"blog-image\",\n            item: data\n          });\n          if (result.status == \"success\") {\n            let array2 = [];\n            for (const img of this.images) {\n              array2.push(img);\n            }\n            array2.push(result.fileName);\n            this.images = array2;\n            let model = {\n              imagen: result.fileName,\n              tipo: tipo\n            };\n            array.push(model);\n            this.body = array;\n          } else {\n            this.status = \"error\";\n            this.message = result.message;\n            //enviar a borrar la imagen\n          }\n\n          this.image = null;\n          this.name_imagen = \"\";\n          this.name_imagen = \"\";\n        }\n      } else if (tipo == \"frase\") {\n        if (this.frase == undefined || this.frase == \"\" || this.frase == null || this.firma == null || this.firma == null || this.firma == null) {\n          this.status = \"error\";\n          this.message = \"Frase o firma vacia.\";\n          this.delStatus();\n        } else {\n          let array = [];\n          for (const bloque of this.body) {\n            array.push(bloque);\n          }\n          let model = {\n            frase: {\n              texto: this.frase,\n              firma: this.firma\n            },\n            tipo: tipo\n          };\n          array.push(model);\n          this.body = array;\n          this.frase = \"\";\n          this.firma = \"\";\n        }\n      } else if (tipo == \"frase_destacada\") {\n        if (this.frase_destacada == undefined || this.frase_destacada == \"\" || this.frase_destacada == null) {\n          this.status = \"error\";\n          this.message = \"Frase destacada vacio.\";\n          this.delStatus();\n        } else {\n          let array = [];\n          for (const bloque of this.body) {\n            array.push(bloque);\n          }\n          let model = {\n            frase_destacada: this.frase_destacada,\n            tipo: tipo\n          };\n          array.push(model);\n          this.body = array;\n          this.frase_destacada = \"\";\n        }\n      } else if (tipo == \"caja\") {\n        let item1;\n        let item2;\n        let statusC1 = \"success\";\n        let statusC2 = \"success\";\n        if (this.caja1 == \"texto\") {\n          if (this.texto == undefined || this.texto == \"\" || this.texto == null) {\n            this.status = \"error\";\n            this.message = \"Texto vacio.\";\n            statusC1 = \"error\";\n            this.delStatus();\n          } else {\n            item1 = {\n              texto: this.texto,\n              tipo: this.caja1\n            };\n          }\n        } else if (this.caja1 == \"frase_destacada\") {\n          if (this.frase_destacada == undefined || this.frase_destacada == \"\" || this.frase_destacada == null) {\n            this.status = \"error\";\n            this.message = \"Frase destacada vacia.\";\n            statusC1 = \"error\";\n            this.delStatus();\n          } else {\n            item1 = {\n              frase_destacada: this.frase_destacada,\n              tipo: this.caja1\n            };\n          }\n        } else if (this.caja1 == \"frase\") {\n          if (this.frase == undefined || this.frase == \"\" || this.frase == null || this.firma == null || this.firma == null || this.firma == null) {\n            this.status = \"error\";\n            this.message = \"Frase o firma vacia.\";\n            statusC1 = \"error\";\n            this.delStatus();\n          } else {\n            item1 = {\n              frase: {\n                texto: this.frase,\n                firma: this.firma\n              },\n              tipo: this.caja1\n            };\n          }\n        } else if (this.caja1 == \"imagen\") {\n          if (this.name_imagen == undefined || this.name_imagen == \"\" || this.name_imagen == null) {\n            this.status = \"error\";\n            this.message = \"No has subido una imagen.\";\n            statusC1 = \"error\";\n            this.delStatus();\n          } else {\n            //* subir imagen al backend\n\n            var data = new FormData();\n            data.append(\"image\", this.image);\n            data.append(\"_method\", \"POST\");\n            let result = await this.$store.dispatch(\"blog/addItemBlo\", {\n              option: \"blog-image\",\n              item: data\n            });\n            if (result.status == \"success\") {\n              let array = [];\n              for (const img of this.images) {\n                array.push(img);\n              }\n              array.push(result.fileName);\n              this.images = array;\n              item1 = {\n                imagen: result.fileName,\n                tipo: this.caja1\n              };\n            } else {\n              this.status = \"error\";\n              this.message = result.message;\n              statusC1 = \"error\";\n              //enviar a borrar la imagen\n            }\n          }\n        } else {\n          statusC1 = \"error\";\n        }\n        if (this.caja2 == \"texto\") {\n          if (this.texto2 == undefined || this.texto2 == \"\" || this.texto2 == null) {\n            this.status = \"error\";\n            this.message = \"Texto vacio.\";\n            statusC2 = \"error\";\n            this.delStatus();\n          } else {\n            item2 = {\n              texto: this.texto2,\n              tipo: this.caja2\n            };\n          }\n        } else if (this.caja2 == \"frase_destacada\") {\n          if (this.frase_destacada2 == undefined || this.frase_destacada2 == \"\" || this.frase_destacada2 == null) {\n            this.status = \"error\";\n            this.message = \"Frase destacada vacia.\";\n            statusC2 = \"error\";\n            this.delStatus();\n          } else {\n            item2 = {\n              frase_destacada: this.frase_destacada2,\n              tipo: this.caja2\n            };\n          }\n        } else if (this.caja2 == \"frase\") {\n          if (this.frase2 == undefined || this.frase2 == \"\" || this.frase2 == null || this.firma2 == null || this.firma2 == null || this.firma2 == null) {\n            this.status = \"error\";\n            this.message = \"Frase o firma vacia.\";\n            statusC2 = \"error\";\n            this.delStatus();\n          } else {\n            item2 = {\n              frase: {\n                texto: this.frase2,\n                firma: this.firma2\n              },\n              tipo: this.caja2\n            };\n          }\n        } else if (this.caja2 == \"imagen\") {\n          if (this.name_imagen2 == undefined || this.name_imagen2 == \"\" || this.name_imagen2 == null) {\n            this.status = \"error\";\n            this.message = \"No has subido una imagen.\";\n            statusC2 = \"error\";\n            this.delStatus();\n          } else {\n            //* subir imagen al backend\n\n            var data = new FormData();\n            data.append(\"image\", this.image2);\n            data.append(\"_method\", \"POST\");\n            let result = await this.$store.dispatch(\"blog/addItemBlo\", {\n              option: \"blog-image\",\n              item: data\n            });\n            if (result.status == \"success\") {\n              let array = [];\n              for (const img of this.images) {\n                array.push(img);\n              }\n              array.push(result.fileName);\n              this.images = array;\n              item2 = {\n                imagen: result.fileName,\n                tipo: this.caja2\n              };\n            } else {\n              this.status = \"error\";\n              this.message = result.message;\n              statusC2 = \"error\";\n              //enviar a borrar la imagen\n            }\n          }\n        } else {\n          statusC2 = \"error\";\n        }\n        if (statusC1 == \"success\" && statusC2 == \"success\") {\n          let model = {\n            caja: [item1, item2],\n            tipo: tipo\n          };\n          let array = [];\n          for (const bloque of this.body) {\n            array.push(bloque);\n          }\n          array.push(model);\n          this.body = array;\n          this.texto = \"\";\n          this.texto2 = \"\";\n          this.frase_destacada = \"\";\n          this.frase_destacada2 = \"\";\n          this.frase = \"\";\n          this.frase2 = \"\";\n          this.firma = \"\";\n          this.firma2 = \"\";\n          this.image = \"\";\n          this.name_imagen = \"\";\n          this.image2 = \"\";\n          this.name_imagen2 = \"\";\n        } else {\n          this.status = \"error\";\n          this.message = \"Una de las cajas esta vacia.\";\n          this.delStatus();\n        }\n      } else {\n        this.status = \"error\";\n        this.message = \"Selecciona un tipo de bloque.\";\n        this.delStatus();\n      }\n    },\n    delStatus: function () {\n      setTimeout(() => this.delMsgs(), 2000);\n    },\n    delMsgs: function () {\n      this.status = \"\";\n      this.message = \"\";\n    },\n    toolbar: function () {\n      if (this.tipo == \"video\") {\n        return [[\"video\"]];\n      } else if (this.tipo == \"imagen\") {\n        return [[\"image\"]];\n      } else {\n        return [[\"bold\", \"italic\", \"underline\", \"strike\"],\n        // toggled buttons\n        [\"blockquote\", \"code-block\"], [{\n          header: 1\n        }, {\n          header: 2\n        }],\n        // custom button values\n        [{\n          list: \"ordered\"\n        }, {\n          list: \"bullet\"\n        }], [{\n          script: \"sub\"\n        }, {\n          script: \"super\"\n        }],\n        // superscript/subscript\n        [{\n          indent: \"-1\"\n        }, {\n          indent: \"+1\"\n        }],\n        // outdent/indent\n        [{\n          direction: \"rtl\"\n        }],\n        // text direction\n\n        [{\n          size: [\"small\", false, \"large\", \"huge\"]\n        }],\n        // custom dropdown\n        [{\n          header: [1, 2, 3, 4, 5, 6, false]\n        }],\n        // [ 'link','image' ,'video' ],          // add's image support\n        [{\n          color: []\n        }, {\n          background: []\n        }],\n        // dropdown with defaults from theme\n        [{\n          font: []\n        }], [{\n          align: []\n        }], [\"clean\"] // remove formatting button\n        ];\n      }\n    },\n\n    previewFiles(e) {\n      var files = e.target.files || e.dataTransfer.files;\n      if (!files.length) return;\n      this.image = files[0];\n      this.name_imagen = this.image.name;\n    },\n    previewFiles3(e) {\n      var files = e.target.files || e.dataTransfer.files;\n      if (!files.length) return;\n      this.image2 = files[0];\n      this.name_imagen2 = this.image2.name;\n    },\n    previewFiles2(e) {\n      var files = e.target.files || e.dataTransfer.files;\n      if (!files.length) return;\n      this.file1 = files[0];\n      this.archivo = this.file1.name;\n    },\n    srcImg: function (img) {\n      let src = `${urlpath.url()}/Y4k_o1b/lw4-ufj/blog-img/${img}`;\n\n      //this.status_img(img)\n\n      return src;\n    },\n    status_img: async function (img) {\n      let payload = {\n        option: \"colaboradores\",\n        image: img\n      };\n      let response = \"\";\n      try {\n        response = await this.$store.dispatch(\"main/getStatusImage\", payload);\n        if (response.data.status == \"error\") {\n          this.statusimg = \"error\";\n        } else {\n          this.statusimg = \"success\";\n        }\n      } catch (err) {\n        this.statusimg = \"error\";\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AAspBA;AACA;AACA;AAEA;EACAA;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;;MAEA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;QACAC;QAEAC;MACA;MAEAC;MACAC;MAEA;;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MAEAC;MACAC;IACA;EACA;EACAC;IACA;MACA;MAEA;MAEA;MAEA;QACAC;QACAC;MACA;MACA;QACA;MACA;QACA;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;QACA;UACAC;QACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MACA;MAEA;MACA;MACA;MACA;MAEA;MAEA;QACA;UACAC;QACA;UACAA;QACA;UACAA;QACA;MACA;MAEA;IACA;IACAC;MACA;MAEA;MACA;MACA;MACA;MAEA;MAEA;QACA;UACAD;QACA;UACAA;QACA;UACAA;QACA;MACA;MAEA;IACA;IACAE;MACA;MAEA;MAEA;QACA;UACAF;QACA;MACA;MAEA;;MAEA;MACA;QACA;UACAX;UACAc;QACA;MACA;MACA;QACA;UACA;YACAd;YACAc;UACA;QACA;QAEA;UACA;YACAd;YACAc;UACA;QACA;MACA;IACA;IACAC;MACA;MAEA;MAEA;QACA;UACAJ;QACA;UACA;YAAAK;YAAAjD;UAAA;UACA4C;QACA;MACA;MAEA;IACA;IACAV;MACA;MAEA;QACAD;QACAC;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAgB;MACA;MACA;MACA;QACAC;QACAP;MACA;MACA;QACA;QACA;QACA;MACA;QACAA;MACA;MAEA;IACA;IAEAQ;MACA;MAEA;QACAD;MACA;MAEA;IACA;IAEAE;MACA;MACAC;IACA;IACAC;MACA;MACAD;IACA;IACAE;MACA;MACAF;IACA;IACAG;MACA;MACAH;IACA;IACAI;MACA;MACAJ;IACA;IACAK;MACA;MACAL;IACA;IACAM;MACA;MACAN;IACA;IAEAO;MACAC;IACA;IACAC,wBACA/E,OACAC,QACAE,UACAE,aACAE,gBACAI,UACAC,SACAJ,OACAO,MACAF,MACAC,QACAZ,KACA;MACA;MACA;;MAEA;;MAEAU;MAEAG;MACAF;MACAC;MAEA;MACAhB;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MAEA;QACAmD;QACAkB;MACA;MAEA;QACA;QACA;MACA;QACA;QACA;QACA;MACA;IACA;IAEAa;MACAF;IACA;IACAT;MACA;MACAC;IACA;IAEAW;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACAP;IACA;IAEA;IACA;MACA;QACA;UACA;UACA;UACA;QACA;UACA;UACA;YACAlB;UACA;UAEA;YAAAnC;YAAAT;UAAA;UACA4C;UACA;UACA;QACA;MACA;QACA;UACA;UACA;UACA;QACA;UACA;UACA;YACAA;UACA;UAEA;YAAAtC;YAAAN;UAAA;UACA4C;UACA;UACA;QACA;MACA;QACA,IACA,iCACA,0BACA,0BACA;UACA;UACA;UACA;UACA;UACA;QACA;UACA;UACA;YACAA;UACA;;UAEA;;UAEA;UAEA9D;UACAA;UAEA;YACAmD;YACAkB;UACA;UAEA;YACA;YACA;cACAmB;YACA;YACAA;YACA;YAEA;cAAAC;cAAAvE;YAAA;YACA4C;YACA;UACA;YACA;YACA;YACA;UACA;;UAEA;UACA;UACA;QACA;MACA;QACA,IACA,2BACA,oBACA,sBACA,sBACA,sBACA,oBACA;UACA;UACA;UACA;QACA;UACA;UACA;YACAA;UACA;UAEA;YACArC;cAAAE;cAAAD;YAAA;YACAR;UACA;UACA4C;UACA;UACA;UACA;QACA;MACA;QACA,IACA,qCACA,8BACA,8BACA;UACA;UACA;UACA;QACA;UACA;UACA;YACAA;UACA;UAEA;YAAAvC;YAAAL;UAAA;UACA4C;UACA;UACA;QACA;MACA;QACA;QACA;QACA;QACA;QACA;UACA,IACA,2BACA,oBACA,oBACA;YACA;YACA;YACA4B;YACA;UACA;YACAC;cAAAhE;cAAAT;YAAA;UACA;QACA;UACA,IACA,qCACA,8BACA,8BACA;YACA;YACA;YACAwE;YACA;UACA;YACAC;cAAApE;cAAAL;YAAA;UACA;QACA;UACA,IACA,2BACA,oBACA,sBACA,sBACA,sBACA,oBACA;YACA;YACA;YACAwE;YACA;UACA;YACAC;cACAlE;gBAAAE;gBAAAD;cAAA;cACAR;YACA;UACA;QACA;UACA,IACA,iCACA,0BACA,0BACA;YACA;YACA;YACAwE;YACA;UACA;YACA;;YAEA;YAEA1F;YACAA;YAEA;cACAmD;cACAkB;YACA;YAEA;cACA;cACA;gBACAP;cACA;cACAA;cACA;cACA6B;gBAAAF;gBAAAvE;cAAA;YACA;cACA;cACA;cACAwE;cACA;YACA;UACA;QACA;UACAA;QACA;QAEA;UACA,IACA,4BACA,qBACA,qBACA;YACA;YACA;YACAE;YACA;UACA;YACAC;cAAAlE;cAAAT;YAAA;UACA;QACA;UACA,IACA,sCACA,+BACA,+BACA;YACA;YACA;YACA0E;YACA;UACA;YACAC;cACAtE;cACAL;YACA;UACA;QACA;UACA,IACA,4BACA,qBACA,uBACA,uBACA,uBACA,qBACA;YACA;YACA;YACA0E;YACA;UACA;YACAC;cACApE;gBAAAE;gBAAAD;cAAA;cACAR;YACA;UACA;QACA;UACA,IACA,kCACA,2BACA,2BACA;YACA;YACA;YACA0E;YACA;UACA;YACA;;YAEA;YAEA5F;YACAA;YAEA;cACAmD;cACAkB;YACA;YAEA;cACA;cACA;gBACAP;cACA;cACAA;cACA;cAEA+B;gBAAAJ;gBAAAvE;cAAA;YACA;cACA;cACA;cACA0E;cACA;YACA;UACA;QACA;UACAA;QACA;QAEA;UACA;YAAAzB;YAAAjD;UAAA;UAEA;UACA;YACA4C;UACA;UAEAA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;QACA;UACA;UACA;UAEA;QACA;MACA;QACA;QACA;QACA;MACA;IACA;IAEAoB;MACAF;IACA;IACAc;MACA;MACA;IACA;IAEAC;MACA;QACA;MACA;QACA;MACA;QACA,QACA;QAAA;QACA,8BAEA;UAAAC;QAAA;UAAAA;QAAA;QAAA;QACA;UAAAC;QAAA;UAAAA;QAAA,IACA;UAAAC;QAAA;UAAAA;QAAA;QAAA;QACA;UAAAC;QAAA;UAAAA;QAAA;QAAA;QACA;UAAAC;QAAA;QAAA;;QAEA;UAAAC;QAAA;QAAA;QACA;UAAAL;QAAA;QACA;QACA;UAAAM;QAAA;UAAAC;QAAA;QAAA;QACA;UAAAC;QAAA,IACA;UAAAC;QAAA,IAEA;QAAA,CACA;MACA;IACA;;IACAC;MACA;MACA;MACA;MAEA;IACA;IAEAC;MACA;MACA;MACA;MAEA;IACA;IAEAC;MACA;MACA;MACA;MACA;IACA;IAEAC;MACA;;MAEA;;MAEA;IACA;IACAC;MACA;QACA3D;QACA9B;MACA;MACA;MAEA;QACA0F;QACA;UACA;QACA;UACA;QACA;MACA;QACA;MACA;IACA;EACA;AACA","names":["components","VueEditor","data","urlpath","title","descrp","url","id_autor","autorname","id_category","catname","id_colaborador","file1","archivo","colname","dateblog","formato","tags","images","body","tipo","caja1","caja2","image","name_imagen","frase_destacada","video","frase","firma","texto","image2","name_imagen2","frase_destacada2","video2","frase2","firma2","texto2","editorOption","modules","theme","status","message","active","active2","active3","active4","active5","active6","active7","viewModal","search_value","updsearchcli","updated","option","search","created","computed","etiquetas","colaboradores","usuarios","categorias","narr","methods","UpItem","array","DownItem","DelItem","id","CambiarOrdenCaja","caja","pushValue","item","delValue","closeSelect","document","closeSelect2","closeSelect3","closeSelect4","closeSelect5","closeSelect6","closeSelect7","wait","setTimeout","submit","delStatus","showModal","closeModal","Add","toEdit","back","array2","imagen","statusC1","item1","statusC2","item2","delMsgs","toolbar","header","list","script","indent","direction","size","color","background","font","align","previewFiles","previewFiles3","previewFiles2","srcImg","status_img","response"],"sourceRoot":"src/views/blog","sources":["addBlog.vue"],"sourcesContent":["<template>\r\n  <div id=\"AddBlo\">\r\n    <div class=\"form-content\">\r\n      <form\r\n        @submit.prevent=\"\r\n          submit(\r\n            title,\r\n            descrp,\r\n            id_autor,\r\n            id_category,\r\n            id_colaborador,\r\n            dateblog,\r\n            formato,\r\n            file1,\r\n            body,\r\n            tags,\r\n            images,\r\n            url\r\n          )\r\n        \"\r\n      >\r\n        <div class=\"grup-form dflx\">\r\n          <div class=\"boxform\">\r\n            <label for=\"title\" class=\"title\">Titulo </label>\r\n            <input\r\n              v-model=\"title\"\r\n              type=\"text\"\r\n              id=\"title\"\r\n              name=\"title\"\r\n              required\r\n            />\r\n          </div>\r\n          <div class=\"boxform\">\r\n            <label for=\"descrp\" class=\"descrp\">Descripción </label>\r\n            <input\r\n              v-model=\"descrp\"\r\n              type=\"text\"\r\n              id=\"descrp\"\r\n              name=\"descrp\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div class=\"boxform\">\r\n            <label for=\"dateblog\" class=\"dateblog\">Fecha </label>\r\n            <input\r\n              v-model=\"dateblog\"\r\n              type=\"date\"\r\n              id=\"dateblog\"\r\n              name=\"dateblog\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"grup-form dflx\">\r\n          <div class=\"boxform\">\r\n            <label for=\"url\" class=\"url\">Url </label>\r\n            <input v-model=\"url\" type=\"text\" id=\"url\" name=\"url\" required />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"grup-form dflx\">\r\n          <div class=\"boxform\">\r\n            <label>Portada</label>\r\n            <div class=\"dflx\">\r\n              <label class=\"filelabel\" for=\"uploadimg\">\r\n                <span>Seleccionar Archivo</span></label\r\n              >\r\n              <label class=\"filelabelname tbl_item\" for=\"uploadimg\">\r\n                {{ archivo }}</label\r\n              >\r\n            </div>\r\n\r\n            <input\r\n              @change=\"previewFiles2\"\r\n              type=\"file\"\r\n              id=\"uploadimg\"\r\n              name=\"uploadimg\"\r\n              class=\"fileinput\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"grup-form dflx\">\r\n          <div class=\"boxform\">\r\n            <label for=\"id_autor\" class=\"id_autor\">Autor </label>\r\n\r\n            <div class=\"select-container\">\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"select-ch2\"\r\n                id=\"select-ch2\"\r\n                v-model=\"active2\"\r\n                :true-value=\"true\"\r\n                :false-value=\"false\"\r\n              />\r\n              <label for=\"select-ch2\">\r\n                <div id=\"select-role\" :class=\"{ rounded: active2 }\">\r\n                  {{ autorname }}\r\n                </div>\r\n              </label>\r\n              <div class=\"options-cont\" @click=\"closeSelect2()\">\r\n                <div\r\n                  v-for=\"(user, key) in usuarios\"\r\n                  :key=\"key\"\r\n                  class=\"option-btn\"\r\n                  @click=\"(id_autor = user.id), (autorname = user.name)\"\r\n                >\r\n                  {{ user.name }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"boxform\">\r\n            <label for=\"id_category\" class=\"id_category\">Categoría </label>\r\n\r\n            <div class=\"select-container\">\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"select-ch3\"\r\n                id=\"select-ch3\"\r\n                v-model=\"active3\"\r\n                :true-value=\"true\"\r\n                :false-value=\"false\"\r\n              />\r\n              <label for=\"select-ch3\">\r\n                <div id=\"select-role\" :class=\"{ rounded: active3 }\">\r\n                  {{ catname }}\r\n                </div>\r\n              </label>\r\n              <div class=\"options-cont\" @click=\"closeSelect3()\">\r\n                <div\r\n                  v-for=\"(cat, key) in categorias\"\r\n                  :key=\"key\"\r\n                  class=\"option-btn\"\r\n                  @click=\"(id_category = cat.id), (catname = cat.name)\"\r\n                >\r\n                  {{ cat.name }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"boxform\">\r\n            <label for=\"id_colaborador\" class=\"id_colaborador\"\r\n              >Colaborador\r\n            </label>\r\n\r\n            <div class=\"select-container\">\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"select-ch4\"\r\n                id=\"select-ch4\"\r\n                v-model=\"active4\"\r\n                :true-value=\"true\"\r\n                :false-value=\"false\"\r\n              />\r\n              <label for=\"select-ch4\">\r\n                <div id=\"select-role\" :class=\"{ rounded: active4 }\">\r\n                  {{ colname }}\r\n                </div>\r\n              </label>\r\n              <div class=\"options-cont\" @click=\"closeSelect4()\">\r\n                <div\r\n                  v-for=\"(col, key) in colaboradores\"\r\n                  :key=\"key\"\r\n                  class=\"option-btn\"\r\n                  @click=\"(id_colaborador = col.id), (colname = col.name)\"\r\n                >\r\n                  {{ col.name }}\r\n                </div>\r\n                <div\r\n                  class=\"option-btn\"\r\n                  @click=\"(id_colaborador = ''), (colname = 'Sin colaborador')\"\r\n                >\r\n                  Sin colaborador\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- añadir etiquetas --->\r\n        <hr class=\"hrhd\" />\r\n        <p class=\"subtitle2\">Añadir etiquetas</p>\r\n        <div class=\"dflx\">\r\n          <div class=\"tbl1\">\r\n            <p class=\"subtitle\">Buscar etiquetas</p>\r\n\r\n            <div class=\"tbletiquetas\">\r\n              <div class=\"hdreti\">Nombre</div>\r\n              <div class=\"bodytbl tbl_item\">\r\n                <div v-for=\"(prm, key) in etiquetas\" :key=\"key\">\r\n                  <p class=\"etiqueta cp\" @click=\"pushValue(prm)\">\r\n                    {{ prm.name }}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"buscador dflx\">\r\n              <input\r\n                v-model=\"search_value\"\r\n                type=\"search\"\r\n                id=\"input-search\"\r\n                class=\"form-control\"\r\n                :placeholder=\"'Búsqueda'\"\r\n              />\r\n              <div class=\"icon_buscar\">\r\n                <img\r\n                  @click=\"search(search_value)\"\r\n                  src=\"../../assets/Search.png\"\r\n                  alt=\"icono buscar\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"tbl2\">\r\n            <p class=\"subtitle\">Etiquetas seleccionadas</p>\r\n\r\n            <div class=\"tbletiquetas\">\r\n              <div class=\"hdreti\">Nombre</div>\r\n              <div class=\"bodytbl tbl_item\">\r\n                <div v-for=\"(prm2, key) in tags\" :key=\"key\">\r\n                  <div class=\"dflx\">\r\n                    <p class=\"etiqueta et1\">{{ prm2.name }}</p>\r\n                    <p class=\"etiqueta elim\" @click=\"delValue(prm2)\">\r\n                      &#10006;\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Añadir bloques -->\r\n\r\n        <hr class=\"hrhd\" />\r\n        <p class=\"subtitle2\">Cuerpo de la entrada</p>\r\n\r\n        <div class=\"opciones-bloque\">\r\n          <div class=\"dflx optionsbl\">\r\n            <div class=\"boxform\">\r\n              <label for=\"role\" class=\"role\">Tipo de bloque </label>\r\n              <div class=\"select-container\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"select-ch\"\r\n                  id=\"select-ch\"\r\n                  v-model=\"active\"\r\n                  :true-value=\"true\"\r\n                  :false-value=\"false\"\r\n                />\r\n                <label for=\"select-ch\">\r\n                  <div id=\"select-role\" :class=\"{ rounded: active }\">\r\n                    {{ tipo }}\r\n                  </div>\r\n                </label>\r\n                <div class=\"options-cont\" @click=\"closeSelect()\">\r\n                  <div class=\"option-btn\" @click=\"tipo = 'texto'\">Texto</div>\r\n                  <div class=\"option-btn\" @click=\"tipo = 'imagen'\">Imagen</div>\r\n                  <div class=\"option-btn\" @click=\"tipo = 'caja'\">Caja</div>\r\n                  <div class=\"option-btn\" @click=\"tipo = 'frase_destacada'\">\r\n                    Frase destacada\r\n                  </div>\r\n                  <div class=\"option-btn\" @click=\"tipo = 'frase'\">Frase</div>\r\n\r\n                  <div class=\"option-btn\" @click=\"tipo = 'video'\">Video</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div @click=\"guardarBloque(tipo)\" class=\"btn_añadir dflx mtbtn\">\r\n              <p>Agregar bloque</p>\r\n              <img src=\"../../assets/add.png\" alt=\"\" />\r\n            </div>\r\n          </div>\r\n\r\n          <vue-editor\r\n            v-if=\"tipo == 'texto'\"\r\n            id=\"editor\"\r\n            class=\"quill-editor\"\r\n            :editorToolbar=\"toolbar()\"\r\n            v-model=\"texto\"\r\n          >\r\n          </vue-editor>\r\n\r\n          <div v-if=\"tipo == 'video'\">\r\n            <div class=\"grup-form dflx\">\r\n              <div class=\"boxform\">\r\n                <label for=\"video\" class=\"video\">Insertar iFrame</label>\r\n                <input v-model=\"video\" type=\"text\" id=\"video\" name=\"video\" />\r\n              </div>\r\n            </div>\r\n\r\n            <vue-editor\r\n              id=\"editor\"\r\n              class=\"quill-editor\"\r\n              :editorToolbar=\"toolbar()\"\r\n              v-model=\"video\"\r\n            >\r\n            </vue-editor>\r\n          </div>\r\n\r\n          <div class=\"\" v-if=\"tipo == 'imagen'\">\r\n            <div class=\"dflx\">\r\n              <label class=\"filelabel\" for=\"uploadimg2\">\r\n                <span>Seleccionar Archivo</span></label\r\n              >\r\n              <label class=\"filelabelname tbl_item\" for=\"uploadimg2\">\r\n                {{ name_imagen }}</label\r\n              >\r\n            </div>\r\n\r\n            <input\r\n              @change=\"previewFiles\"\r\n              type=\"file\"\r\n              id=\"uploadimg2\"\r\n              name=\"uploadimg2\"\r\n              required\r\n              class=\"fileinput2\"\r\n            />\r\n          </div>\r\n\r\n          <div v-if=\"tipo == 'frase'\">\r\n            <div class=\"grup-form dflx\">\r\n              <div class=\"boxform\">\r\n                <label for=\"frase\" class=\"frase\">Frase</label>\r\n                <input v-model=\"frase\" type=\"text\" id=\"frase\" name=\"frase\" />\r\n              </div>\r\n              <div class=\"boxform\">\r\n                <label for=\"firma\" class=\"firma\">Firma</label>\r\n                <input v-model=\"firma\" type=\"text\" id=\"firma\" name=\"firma\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"tipo == 'frase_destacada'\">\r\n            <div class=\"grup-form dflx\">\r\n              <div class=\"boxform\">\r\n                <label for=\"frase_destacada\" class=\"frase_destacada\"\r\n                  >Frase destacada</label\r\n                >\r\n                <input\r\n                  v-model=\"frase_destacada\"\r\n                  type=\"text\"\r\n                  id=\"frase_destacada\"\r\n                  name=\"frase_destacada\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"tipo == 'caja'\">\r\n            <p class=\"subtitle\">Caja 1</p>\r\n\r\n            <div class=\"dflx btnsgrp\">\r\n              <p class=\"btnopciones\" @click=\"caja1 = 'texto'\">Texto</p>\r\n              <p class=\"btnopciones\" @click=\"caja1 = 'imagen'\">Imagen</p>\r\n              <p class=\"btnopciones\" @click=\"caja1 = 'frase_destacada'\">\r\n                Frase destacada\r\n              </p>\r\n              <p class=\"btnopciones\" @click=\"caja1 = 'frase'\">Frase</p>\r\n            </div>\r\n\r\n            <vue-editor\r\n              v-if=\"caja1 == 'texto'\"\r\n              id=\"editor\"\r\n              class=\"quill-editor\"\r\n              :editorToolbar=\"toolbar()\"\r\n              v-model=\"texto\"\r\n            >\r\n            </vue-editor>\r\n\r\n            <div v-if=\"caja1 == 'frase_destacada'\">\r\n              <div class=\"grup-form dflx\">\r\n                <div class=\"boxform\">\r\n                  <label for=\"frase_destacada\" class=\"frase_destacada\"\r\n                    >Frase destacada</label\r\n                  >\r\n                  <input\r\n                    v-model=\"frase_destacada\"\r\n                    type=\"text\"\r\n                    id=\"frase_destacada\"\r\n                    name=\"frase_destacada\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"caja1 == 'frase'\">\r\n              <div class=\"grup-form dflx\">\r\n                <div class=\"boxform\">\r\n                  <label for=\"frase\" class=\"frase\">Frase</label>\r\n                  <input v-model=\"frase\" type=\"text\" id=\"frase\" name=\"frase\" />\r\n                </div>\r\n                <div class=\"boxform\">\r\n                  <label for=\"firma\" class=\"firma\">Firma</label>\r\n                  <input v-model=\"firma\" type=\"text\" id=\"firma\" name=\"firma\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"\" v-if=\"caja1 == 'imagen'\">\r\n              <div class=\"dflx\">\r\n                <label class=\"filelabel\" for=\"uploadimg2\">\r\n                  <span>Seleccionar Archivo</span></label\r\n                >\r\n                <label class=\"filelabelname tbl_item\" for=\"uploadimg2\">\r\n                  {{ name_imagen }}</label\r\n                >\r\n              </div>\r\n\r\n              <input\r\n                @change=\"previewFiles\"\r\n                type=\"file\"\r\n                id=\"uploadimg2\"\r\n                name=\"uploadimg2\"\r\n                required\r\n                class=\"fileinput2\"\r\n              />\r\n            </div>\r\n\r\n            <p class=\"subtitle\">Caja 2</p>\r\n\r\n            <div class=\"dflx btnsgrp\">\r\n              <p class=\"btnopciones\" @click=\"caja2 = 'texto'\">Texto</p>\r\n              <p class=\"btnopciones\" @click=\"caja2 = 'imagen'\">Imagen</p>\r\n              <p class=\"btnopciones\" @click=\"caja2 = 'frase_destacada'\">\r\n                Frase destacada\r\n              </p>\r\n              <p class=\"btnopciones\" @click=\"caja2 = 'frase'\">Frase</p>\r\n            </div>\r\n\r\n            <vue-editor\r\n              v-if=\"caja2 == 'texto'\"\r\n              id=\"editor\"\r\n              class=\"quill-editor\"\r\n              :editorToolbar=\"toolbar()\"\r\n              v-model=\"texto2\"\r\n            >\r\n            </vue-editor>\r\n            <div v-if=\"caja2 == 'frase_destacada'\">\r\n              <div class=\"grup-form dflx\">\r\n                <div class=\"boxform\">\r\n                  <label for=\"frase_destacada2\" class=\"frase_destacada2\"\r\n                    >Frase destacada</label\r\n                  >\r\n                  <input\r\n                    v-model=\"frase_destacada2\"\r\n                    type=\"text\"\r\n                    id=\"frase_destacada2\"\r\n                    name=\"frase_destacada2\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"caja2 == 'frase'\">\r\n              <div class=\"grup-form dflx\">\r\n                <div class=\"boxform\">\r\n                  <label for=\"frase2\" class=\"frase2\">Frase</label>\r\n                  <input\r\n                    v-model=\"frase2\"\r\n                    type=\"text\"\r\n                    id=\"frase2\"\r\n                    name=\"frase2\"\r\n                  />\r\n                </div>\r\n                <div class=\"boxform\">\r\n                  <label for=\"firma2\" class=\"firma2\">Firma</label>\r\n                  <input\r\n                    v-model=\"firma2\"\r\n                    type=\"text\"\r\n                    id=\"firma2\"\r\n                    name=\"firma2\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"\" v-if=\"caja2 == 'imagen'\">\r\n              <div class=\"dflx\">\r\n                <label class=\"filelabel\" for=\"uploadimg3\">\r\n                  <span>Seleccionar Archivo</span></label\r\n                >\r\n                <label class=\"filelabelname tbl_item\" for=\"uploadimg3\">\r\n                  {{ name_imagen2 }}</label\r\n                >\r\n              </div>\r\n\r\n              <input\r\n                @change=\"previewFiles3\"\r\n                type=\"file\"\r\n                id=\"uploadimg3\"\r\n                name=\"uploadimg3\"\r\n                required\r\n                class=\"fileinput\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr class=\"hrhd\" />\r\n        <p class=\"subtitle2\">Bloques agregados</p>\r\n\r\n        <div class=\"bloques-cont\">\r\n          <div class=\"dflx header-bc\">\r\n            <div class=\"col1\">\r\n              <p>ordenar</p>\r\n            </div>\r\n            <div class=\"col2\">\r\n              <p>Tipo</p>\r\n            </div>\r\n            <div class=\"col3 cl3t\">\r\n              <p>Contenido</p>\r\n            </div>\r\n            <div class=\"col4\">\r\n              <p>Eliminar</p>\r\n            </div>\r\n          </div>\r\n          <div v-for=\"(bloq, key) in body\" :key=\"key\" class=\"bloq-item dflx\">\r\n            <div class=\"col1\">\r\n              <h2 v-if=\"key != 0\" @click=\"UpItem(bloq, key)\" class=\"cp\">\r\n                &#9650;\r\n              </h2>\r\n              <h2\r\n                v-if=\"key < body.length - 1\"\r\n                @click=\"DownItem(bloq, key)\"\r\n                class=\"cp\"\r\n              >\r\n                &#9660;\r\n              </h2>\r\n            </div>\r\n            <div class=\"col2\">\r\n              <p v-if=\"bloq.tipo != 'frase_destacada'\">{{ bloq.tipo }}</p>\r\n              <p v-else>\r\n                frase <br />\r\n                destacada\r\n              </p>\r\n            </div>\r\n            <div class=\"col3\">\r\n              <!-- contenido del bloque  -->\r\n              <div v-if=\"bloq.tipo == 'texto'\" v-html=\"bloq.texto\"></div>\r\n              <div v-if=\"bloq.tipo == 'video'\" v-html=\"bloq.video\"></div>\r\n              <div v-if=\"bloq.tipo == 'frase'\">\r\n                <p>\r\n                  \"{{ bloq.frase.texto }}\" <br />\r\n                  - {{ bloq.frase.firma }}\r\n                </p>\r\n              </div>\r\n              <div v-if=\"bloq.tipo == 'frase_destacada'\">\r\n                <p>\r\n                  <strong>\"{{ bloq.frase_destacada }}\"</strong>\r\n                </p>\r\n              </div>\r\n              <img\r\n                v-if=\"bloq.tipo == 'imagen'\"\r\n                :src=\"srcImg(bloq.imagen)\"\r\n                alt=\"imagen bloque\"\r\n              />\r\n              <div v-if=\"bloq.tipo == 'caja'\" class=\"dflx\">\r\n                <div class=\"caja1\">\r\n                  <p\r\n                    v-if=\"bloq.caja[0].tipo == 'texto'\"\r\n                    v-html=\"bloq.caja[0].texto\"\r\n                  ></p>\r\n                  <img\r\n                    v-if=\"bloq.caja[0].tipo == 'imagen'\"\r\n                    :src=\"srcImg(bloq.caja[0].imagen)\"\r\n                    alt=\"imagen bloque\"\r\n                  />\r\n                  <div v-if=\"bloq.caja[0].tipo == 'frase'\">\r\n                    <p>\r\n                      \"{{ bloq.caja[0].frase.texto }}\" <br />\r\n                      - {{ bloq.caja[0].frase.firma }}\r\n                    </p>\r\n                  </div>\r\n                  <div v-if=\"bloq.caja[0].tipo == 'frase_destacada'\">\r\n                    <p>\r\n                      <strong>\"{{ bloq.caja[0].frase_destacada }}\"</strong>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <h2 class=\"cp\" @click=\"CambiarOrdenCaja(bloq, key)\">\r\n                  &#11020;\r\n                </h2>\r\n                <div class=\"caja2\">\r\n                  <p\r\n                    v-if=\"bloq.caja[1].tipo == 'texto'\"\r\n                    v-html=\"bloq.caja[1].texto\"\r\n                  ></p>\r\n                  <img\r\n                    v-if=\"bloq.caja[1].tipo == 'imagen'\"\r\n                    :src=\"srcImg(bloq.caja[1].imagen)\"\r\n                    alt=\"imagen bloque\"\r\n                  />\r\n                  <div v-if=\"bloq.caja[1].tipo == 'frase'\">\r\n                    <p>\r\n                      \"{{ bloq.caja[1].frase.texto }}\" <br />\r\n                      - {{ bloq.caja[1].frase.firma }}\r\n                    </p>\r\n                  </div>\r\n                  <div v-if=\"bloq.caja[1].tipo == 'frase_destacada'\">\r\n                    <p>\r\n                      <strong>\"{{ bloq.caja[1].frase_destacada }}\"</strong>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col4\">\r\n              <h2 class=\"cp\" @click=\"DelItem(bloq, key)\">&#10006;</h2>\r\n            </div>\r\n          </div>\r\n          <p class=\"snu\" v-if=\"body.length == 0\">\r\n            Sin contenido agregado al cuerpo del blog\r\n          </p>\r\n        </div>\r\n\r\n        <div class=\"dflx\">\r\n          <p @click=\"wait()\" class=\"btnRegresar\">Regresar</p>\r\n          <button class=\"alta\" type=\"submit\">Guardar</button>\r\n        </div>\r\n      </form>\r\n\r\n      <div v-if=\"viewModal\" class=\"modal_view\">\r\n        <div id=\"modal_add\">\r\n          <div class=\"body dflx\">\r\n            <h3>Entrada agregada</h3>\r\n            <img src=\"../../assets/add.png\" alt=\"icono alerta\" />\r\n          </div>\r\n\r\n          <div class=\"modal_add_btns dflx\">\r\n            <p @click=\"Add()\" class=\"otro\">Aceptar</p>\r\n            <p @click=\"toEdit()\" class=\"editar\">Editar</p>\r\n            <p @click=\"back()\" class=\"inicio\">Inicio</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"status != ''\" class=\"status_messages\">\r\n      <div v-if=\"status == 'success'\" class=\"msg msg_success\">\r\n        <p>{{ message }}</p>\r\n      </div>\r\n      <div v-if=\"status == 'error'\" class=\"msg msg_error\">\r\n        <p>{{ message }}</p>\r\n      </div>\r\n    </div>\r\n    <!--\r\n  <p> {{name_imagen}}</p>\r\n     <p>   {{image}}</p>\r\n\r\n       <p>{{tipo}}</p>\r\n       <p> {{body}}</p>\r\n    \r\n\r\n      <p> {{images}}</p>\r\n-->\r\n  </div>\r\n</template>\r\n<script>\r\nimport { VueEditor } from \"vue2-editor\";\r\nimport { mapActions } from \"vuex\";\r\nlet urlpath = require(\"../../global/index\");\r\n\r\nexport default {\r\n  components: {\r\n    VueEditor,\r\n  },\r\n  data() {\r\n    return {\r\n      urlpath: urlpath,\r\n      title: \"\",\r\n      descrp: \"\",\r\n      url: \"\",\r\n      id_autor: \"\",\r\n      autorname: \"\",\r\n      id_category: \"\",\r\n      catname: \"\",\r\n      id_colaborador: \"\",\r\n      file1: null,\r\n      archivo: \"No se eligió archivo\",\r\n      colname: \"\",\r\n      dateblog: \"\",\r\n      formato: \"\",\r\n      tags: [], //etiquetas agregadas\r\n      images: [], //imagenes agregadas\r\n\r\n      //bloques\r\n      body: [],\r\n      tipo: \"texto\",\r\n      caja1: \"texto\",\r\n      caja2: \"texto\",\r\n      image: null,\r\n      name_imagen: \"\",\r\n      frase_destacada: \"\",\r\n      video: \"\",\r\n      frase: \"\",\r\n      firma: \"\",\r\n      texto: \"\",\r\n\r\n      image2: null,\r\n      name_imagen2: \"\",\r\n      frase_destacada2: \"\",\r\n      video2: \"\",\r\n      frase2: \"\",\r\n      firma2: \"\",\r\n      texto2: \"\",\r\n\r\n      editorOption: {\r\n        modules: {},\r\n\r\n        theme: \"snow\",\r\n      },\r\n\r\n      status: \"\",\r\n      message: \"\",\r\n\r\n      //selects\r\n\r\n      active: false,\r\n      active2: false,\r\n      active3: false,\r\n      active4: false,\r\n      active5: false,\r\n      active6: false,\r\n      active7: false,\r\n\r\n      viewModal: false,\r\n\r\n      search_value: \"\",\r\n      updsearchcli: \"\",\r\n    };\r\n  },\r\n  updated() {\r\n    if (this.search_value != this.updsearchcli) {\r\n      this.updsearchcli = this.search_value;\r\n\r\n      let option = \"tag\";\r\n\r\n      let value = this.search_value;\r\n\r\n      let payload = {\r\n        option: option,\r\n        search: value,\r\n      };\r\n      if (value != \"\") {\r\n        this.$store.dispatch(\"tag/searchTg\", payload);\r\n      } else {\r\n        this.getAllInfoTg(\"tag\");\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getAllInfoTg(\"tag\");\r\n    this.getAllInfoCat(\"category\");\r\n    this.getAllInfoClb(\"colaboradores\");\r\n    this.getAllInfoUsr(\"usuarios\");\r\n  },\r\n  computed: {\r\n    etiquetas() {\r\n      return this.$store.getters[\"tag/data\"];\r\n    },\r\n    colaboradores() {\r\n      return this.$store.getters[\"colaboradores/data\"];\r\n    },\r\n    usuarios() {\r\n      return this.$store.getters[\"usuarios/data\"];\r\n    },\r\n    categorias() {\r\n      let arr = this.$store.getters[\"category/data\"];\r\n      let narr = []\r\n      for (let i = 0; i < arr.length; i++) {\r\n        if (arr[i].parent_name == 'BLOG'){\r\n          narr.push(arr[i])\r\n        }\r\n      }\r\n      return narr;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(\"tag\", [\"getAllInfoTg\"]),\r\n    ...mapActions(\"category\", [\"getAllInfoCat\"]),\r\n    ...mapActions(\"usuarios\", [\"getAllInfoUsr\"]),\r\n    ...mapActions(\"colaboradores\", [\"getAllInfoClb\"]),\r\n    ...mapActions(\"blog\", [\"setAddedBlo\"]),\r\n    ...mapActions(\"blog\", [\"setHistoryOptionBlo\"]),\r\n    UpItem: function (item, key) {\r\n      let bloques = this.body;\r\n\r\n      let anterior = key - 1;\r\n      let actual = key;\r\n      let item_actual = item;\r\n      let item_anterior = bloques[key - 1];\r\n\r\n      let array = [];\r\n\r\n      for (var i = 0; i < bloques.length; i++) {\r\n        if (i == actual) {\r\n          array.push(item_anterior);\r\n        } else if (i == anterior) {\r\n          array.push(item_actual);\r\n        } else {\r\n          array.push(bloques[i]);\r\n        }\r\n      }\r\n\r\n      this.body = array;\r\n    },\r\n    DownItem: function (item, key) {\r\n      let bloques = this.body;\r\n\r\n      let siguiente = key + 1;\r\n      let actual = key;\r\n      let item_actual = item;\r\n      let item_siguiente = bloques[key + 1];\r\n\r\n      let array = [];\r\n\r\n      for (var i = 0; i < bloques.length; i++) {\r\n        if (i == actual) {\r\n          array.push(item_siguiente);\r\n        } else if (i == siguiente) {\r\n          array.push(item_actual);\r\n        } else {\r\n          array.push(bloques[i]);\r\n        }\r\n      }\r\n\r\n      this.body = array;\r\n    },\r\n    DelItem: async function (bloq, key) {\r\n      let bloques = this.body;\r\n\r\n      let array = [];\r\n\r\n      for (var i = 0; i < bloques.length; i++) {\r\n        if (i != key) {\r\n          array.push(bloques[i]);\r\n        }\r\n      }\r\n\r\n      this.body = array;\r\n\r\n      //! eliminar la imagen si es de tipo imagen.\r\n      if (bloq.tipo == \"imagen\") {\r\n        let result = await this.$store.dispatch(\"blog/deleteItemBlo\", {\r\n          option: \"blogimage\",\r\n          id: bloq.imagen,\r\n        });\r\n      }\r\n      if (bloq.tipo == \"caja\") {\r\n        if (bloq.caja[0].tipo == \"imagen\") {\r\n          let result = await this.$store.dispatch(\"blog/deleteItemBlo\", {\r\n            option: \"blogimage\",\r\n            id: bloq.caja[0].imagen,\r\n          });\r\n        }\r\n\r\n        if (bloq.caja[1].tipo == \"imagen\") {\r\n          let result = await this.$store.dispatch(\"blog/deleteItemBlo\", {\r\n            option: \"blogimage\",\r\n            id: bloq.caja[1].imagen,\r\n          });\r\n        }\r\n      }\r\n    },\r\n    CambiarOrdenCaja: function (bloq, key) {\r\n      let bloques = this.body;\r\n\r\n      let array = [];\r\n\r\n      for (var i = 0; i < bloques.length; i++) {\r\n        if (i != key) {\r\n          array.push(bloques[i]);\r\n        } else {\r\n          let model = { caja: [bloq.caja[1], bloq.caja[0]], tipo: \"caja\" };\r\n          array.push(model);\r\n        }\r\n      }\r\n\r\n      this.body = array;\r\n    },\r\n    search: async function (value) {\r\n      let option = \"tag\";\r\n\r\n      let payload = {\r\n        option: option,\r\n        search: value,\r\n      };\r\n      if (value != \"\") {\r\n        this.$store.dispatch(\"tag/searchTg\", payload);\r\n      } else {\r\n        this.getAllInfoTg(\"tag\");\r\n      }\r\n    },\r\n    pushValue(param) {\r\n      let array = [];\r\n      let encontrado = false;\r\n      for (const item of this.tags) {\r\n        item == param ? (encontrado = true) : encontrado;\r\n        array.push(item);\r\n      }\r\n      if (encontrado) {\r\n        this.status = \"error\";\r\n        this.message = \"Etiqueta ya agregada\";\r\n        this.delStatus();\r\n      } else {\r\n        array.push(param);\r\n      }\r\n\r\n      this.tags = array;\r\n    },\r\n\r\n    delValue(param) {\r\n      let array = [];\r\n\r\n      for (const item of this.tags) {\r\n        item != param ? array.push(item) : array;\r\n      }\r\n\r\n      this.tags = array;\r\n    },\r\n\r\n    closeSelect() {\r\n      this.active = false;\r\n      document.getElementById(\"select-ch\").checked = false;\r\n    },\r\n    closeSelect2() {\r\n      this.active2 = false;\r\n      document.getElementById(\"select-ch2\").checked = false;\r\n    },\r\n    closeSelect3() {\r\n      this.active3 = false;\r\n      document.getElementById(\"select-ch3\").checked = false;\r\n    },\r\n    closeSelect4() {\r\n      this.active4 = false;\r\n      document.getElementById(\"select-ch4\").checked = false;\r\n    },\r\n    closeSelect5() {\r\n      this.active5 = false;\r\n      document.getElementById(\"select-ch5\").checked = false;\r\n    },\r\n    closeSelect6() {\r\n      this.active6 = false;\r\n      document.getElementById(\"select-ch6\").checked = false;\r\n    },\r\n    closeSelect7() {\r\n      this.active7 = false;\r\n      document.getElementById(\"select-ch7\").checked = false;\r\n    },\r\n\r\n    wait: function () {\r\n      setTimeout(() => this.$router.go(), 200);\r\n    },\r\n    submit: async function (\r\n      title,\r\n      descrp,\r\n      id_autor,\r\n      id_category,\r\n      id_colaborador,\r\n      dateblog,\r\n      formato,\r\n      file1,\r\n      body,\r\n      tags,\r\n      images,\r\n      url\r\n    ) {\r\n      this.status = \"\";\r\n      this.message = \"\";\r\n\r\n      //todo validar body almenos 1 bloque.\r\n\r\n      formato = \"F1\";\r\n\r\n      body = JSON.stringify(body);\r\n      tags = JSON.stringify(tags);\r\n      images = JSON.stringify(images);\r\n\r\n      var data = new FormData();\r\n      data.append(\"title\", title);\r\n      data.append(\"url\", url);\r\n      data.append(\"descrp\", descrp);\r\n      data.append(\"id_autor\", id_autor);\r\n      data.append(\"id_category\", id_category);\r\n      data.append(\"id_colaborador\", id_colaborador);\r\n      data.append(\"dateblog\", dateblog);\r\n      data.append(\"formato\", formato);\r\n      data.append(\"body\", body);\r\n      data.append(\"tags\", tags);\r\n      data.append(\"imagenes\", images);\r\n      data.append(\"image\", file1);\r\n      data.append(\"_method\", \"POST\");\r\n\r\n      let result = await this.$store.dispatch(\"blog/addItemBlo\", {\r\n        option: \"blog\",\r\n        item: data,\r\n      });\r\n\r\n      if (result.status == \"error\") {\r\n        this.status = \"error\";\r\n        this.message = result.message;\r\n      } else {\r\n        // success\r\n        this.setAddedBlo(result.added);\r\n        this.showModal();\r\n      }\r\n    },\r\n\r\n    delStatus: function () {\r\n      setTimeout(() => this.delMsgs(), 2000);\r\n    },\r\n    closeSelect() {\r\n      this.active = false;\r\n      document.getElementById(\"select-ch\").checked = false;\r\n    },\r\n\r\n    showModal: function () {\r\n      this.viewModal = true;\r\n    },\r\n    closeModal: function () {\r\n      this.viewModal = false;\r\n      this.setAddedBlo(\"\");\r\n      this.setHistoryOptionBlo(\"Default\");\r\n    },\r\n    Add: function () {\r\n      this.status = \"\";\r\n      this.message = \"\";\r\n      this.title = \"\";\r\n      this.url = \"\";\r\n      this.descrp = \"\";\r\n      this.id_autor = \"\";\r\n      this.autorname = \"\";\r\n      this.id_category = \"\";\r\n      this.catname = \"\";\r\n      this.id_colaborador = \"\";\r\n      this.file1 = null;\r\n      this.archivo = \"No se eligió archivo\";\r\n      this.colname = \"\";\r\n      this.dateblog = \"\";\r\n      this.formato = \"\";\r\n      this.tags = [];\r\n      this.images = [];\r\n\r\n      //!resetear bloques\r\n      this.body = [];\r\n      this.tipo = \"texto\";\r\n      this.caja1 = \"texto\";\r\n      this.caja2 = \"texto\";\r\n      this.image = null;\r\n      this.name_imagen = \"\";\r\n      this.frase_destacada = \"\";\r\n      this.video = \"\";\r\n      this.frase = \"\";\r\n      this.firma = \"\";\r\n      this.texto = \"\";\r\n\r\n      this.image2 = null;\r\n      this.name_imagen2 = \"\";\r\n      this.frase_destacada2 = \"\";\r\n      this.video2 = \"\";\r\n      this.frase2 = \"\";\r\n      this.firma2 = \"\";\r\n      this.texto2 = \"\";\r\n\r\n      this.viewModal = false;\r\n      this.setAddedBlo(\"\");\r\n    },\r\n    toEdit: function () {\r\n      this.setHistoryOptionBlo(\"Edit\");\r\n      this.viewModal = false;\r\n    },\r\n    back: function () {\r\n      setTimeout(() => this.$router.go(), 200);\r\n    },\r\n\r\n    // bloques\r\n    async guardarBloque(tipo) {\r\n      if (tipo == \"texto\") {\r\n        if (this.texto == undefined || this.texto == \"\" || this.texto == null) {\r\n          this.status = \"error\";\r\n          this.message = \"Texto vacio.\";\r\n          this.delStatus();\r\n        } else {\r\n          let array = [];\r\n          for (const bloque of this.body) {\r\n            array.push(bloque);\r\n          }\r\n\r\n          let model = { texto: this.texto, tipo: tipo };\r\n          array.push(model);\r\n          this.body = array;\r\n          this.texto = \"\";\r\n        }\r\n      } else if (tipo == \"video\") {\r\n        if (this.video == undefined || this.video == \"\" || this.video == null) {\r\n          this.status = \"error\";\r\n          this.message = \"Agrega un video.\";\r\n          this.delStatus();\r\n        } else {\r\n          let array = [];\r\n          for (const bloque of this.body) {\r\n            array.push(bloque);\r\n          }\r\n\r\n          let model = { video: this.video, tipo: tipo };\r\n          array.push(model);\r\n          this.body = array;\r\n          this.video = \"\";\r\n        }\r\n      } else if (tipo == \"imagen\") {\r\n        if (\r\n          this.name_imagen == undefined ||\r\n          this.name_imagen == \"\" ||\r\n          this.name_imagen == null\r\n        ) {\r\n          this.status = \"error\";\r\n          this.message = \"No has subido una imagen.\";\r\n          this.image = null;\r\n          this.name_imagen = \"\";\r\n          this.delStatus();\r\n        } else {\r\n          let array = [];\r\n          for (const bloque of this.body) {\r\n            array.push(bloque);\r\n          }\r\n\r\n          //* subir imagen al backend\r\n\r\n          var data = new FormData();\r\n\r\n          data.append(\"image\", this.image);\r\n          data.append(\"_method\", \"POST\");\r\n\r\n          let result = await this.$store.dispatch(\"blog/addItemBlo\", {\r\n            option: \"blog-image\",\r\n            item: data,\r\n          });\r\n\r\n          if (result.status == \"success\") {\r\n            let array2 = [];\r\n            for (const img of this.images) {\r\n              array2.push(img);\r\n            }\r\n            array2.push(result.fileName);\r\n            this.images = array2;\r\n\r\n            let model = { imagen: result.fileName, tipo: tipo };\r\n            array.push(model);\r\n            this.body = array;\r\n          } else {\r\n            this.status = \"error\";\r\n            this.message = result.message;\r\n            //enviar a borrar la imagen\r\n          }\r\n\r\n          this.image = null;\r\n          this.name_imagen = \"\";\r\n          this.name_imagen = \"\";\r\n        }\r\n      } else if (tipo == \"frase\") {\r\n        if (\r\n          this.frase == undefined ||\r\n          this.frase == \"\" ||\r\n          this.frase == null ||\r\n          this.firma == null ||\r\n          this.firma == null ||\r\n          this.firma == null\r\n        ) {\r\n          this.status = \"error\";\r\n          this.message = \"Frase o firma vacia.\";\r\n          this.delStatus();\r\n        } else {\r\n          let array = [];\r\n          for (const bloque of this.body) {\r\n            array.push(bloque);\r\n          }\r\n\r\n          let model = {\r\n            frase: { texto: this.frase, firma: this.firma },\r\n            tipo: tipo,\r\n          };\r\n          array.push(model);\r\n          this.body = array;\r\n          this.frase = \"\";\r\n          this.firma = \"\";\r\n        }\r\n      } else if (tipo == \"frase_destacada\") {\r\n        if (\r\n          this.frase_destacada == undefined ||\r\n          this.frase_destacada == \"\" ||\r\n          this.frase_destacada == null\r\n        ) {\r\n          this.status = \"error\";\r\n          this.message = \"Frase destacada vacio.\";\r\n          this.delStatus();\r\n        } else {\r\n          let array = [];\r\n          for (const bloque of this.body) {\r\n            array.push(bloque);\r\n          }\r\n\r\n          let model = { frase_destacada: this.frase_destacada, tipo: tipo };\r\n          array.push(model);\r\n          this.body = array;\r\n          this.frase_destacada = \"\";\r\n        }\r\n      } else if (tipo == \"caja\") {\r\n        let item1;\r\n        let item2;\r\n        let statusC1 = \"success\";\r\n        let statusC2 = \"success\";\r\n        if (this.caja1 == \"texto\") {\r\n          if (\r\n            this.texto == undefined ||\r\n            this.texto == \"\" ||\r\n            this.texto == null\r\n          ) {\r\n            this.status = \"error\";\r\n            this.message = \"Texto vacio.\";\r\n            statusC1 = \"error\";\r\n            this.delStatus();\r\n          } else {\r\n            item1 = { texto: this.texto, tipo: this.caja1 };\r\n          }\r\n        } else if (this.caja1 == \"frase_destacada\") {\r\n          if (\r\n            this.frase_destacada == undefined ||\r\n            this.frase_destacada == \"\" ||\r\n            this.frase_destacada == null\r\n          ) {\r\n            this.status = \"error\";\r\n            this.message = \"Frase destacada vacia.\";\r\n            statusC1 = \"error\";\r\n            this.delStatus();\r\n          } else {\r\n            item1 = { frase_destacada: this.frase_destacada, tipo: this.caja1 };\r\n          }\r\n        } else if (this.caja1 == \"frase\") {\r\n          if (\r\n            this.frase == undefined ||\r\n            this.frase == \"\" ||\r\n            this.frase == null ||\r\n            this.firma == null ||\r\n            this.firma == null ||\r\n            this.firma == null\r\n          ) {\r\n            this.status = \"error\";\r\n            this.message = \"Frase o firma vacia.\";\r\n            statusC1 = \"error\";\r\n            this.delStatus();\r\n          } else {\r\n            item1 = {\r\n              frase: { texto: this.frase, firma: this.firma },\r\n              tipo: this.caja1,\r\n            };\r\n          }\r\n        } else if (this.caja1 == \"imagen\") {\r\n          if (\r\n            this.name_imagen == undefined ||\r\n            this.name_imagen == \"\" ||\r\n            this.name_imagen == null\r\n          ) {\r\n            this.status = \"error\";\r\n            this.message = \"No has subido una imagen.\";\r\n            statusC1 = \"error\";\r\n            this.delStatus();\r\n          } else {\r\n            //* subir imagen al backend\r\n\r\n            var data = new FormData();\r\n\r\n            data.append(\"image\", this.image);\r\n            data.append(\"_method\", \"POST\");\r\n\r\n            let result = await this.$store.dispatch(\"blog/addItemBlo\", {\r\n              option: \"blog-image\",\r\n              item: data,\r\n            });\r\n\r\n            if (result.status == \"success\") {\r\n              let array = [];\r\n              for (const img of this.images) {\r\n                array.push(img);\r\n              }\r\n              array.push(result.fileName);\r\n              this.images = array;\r\n              item1 = { imagen: result.fileName, tipo: this.caja1 };\r\n            } else {\r\n              this.status = \"error\";\r\n              this.message = result.message;\r\n              statusC1 = \"error\";\r\n              //enviar a borrar la imagen\r\n            }\r\n          }\r\n        } else {\r\n          statusC1 = \"error\";\r\n        }\r\n\r\n        if (this.caja2 == \"texto\") {\r\n          if (\r\n            this.texto2 == undefined ||\r\n            this.texto2 == \"\" ||\r\n            this.texto2 == null\r\n          ) {\r\n            this.status = \"error\";\r\n            this.message = \"Texto vacio.\";\r\n            statusC2 = \"error\";\r\n            this.delStatus();\r\n          } else {\r\n            item2 = { texto: this.texto2, tipo: this.caja2 };\r\n          }\r\n        } else if (this.caja2 == \"frase_destacada\") {\r\n          if (\r\n            this.frase_destacada2 == undefined ||\r\n            this.frase_destacada2 == \"\" ||\r\n            this.frase_destacada2 == null\r\n          ) {\r\n            this.status = \"error\";\r\n            this.message = \"Frase destacada vacia.\";\r\n            statusC2 = \"error\";\r\n            this.delStatus();\r\n          } else {\r\n            item2 = {\r\n              frase_destacada: this.frase_destacada2,\r\n              tipo: this.caja2,\r\n            };\r\n          }\r\n        } else if (this.caja2 == \"frase\") {\r\n          if (\r\n            this.frase2 == undefined ||\r\n            this.frase2 == \"\" ||\r\n            this.frase2 == null ||\r\n            this.firma2 == null ||\r\n            this.firma2 == null ||\r\n            this.firma2 == null\r\n          ) {\r\n            this.status = \"error\";\r\n            this.message = \"Frase o firma vacia.\";\r\n            statusC2 = \"error\";\r\n            this.delStatus();\r\n          } else {\r\n            item2 = {\r\n              frase: { texto: this.frase2, firma: this.firma2 },\r\n              tipo: this.caja2,\r\n            };\r\n          }\r\n        } else if (this.caja2 == \"imagen\") {\r\n          if (\r\n            this.name_imagen2 == undefined ||\r\n            this.name_imagen2 == \"\" ||\r\n            this.name_imagen2 == null\r\n          ) {\r\n            this.status = \"error\";\r\n            this.message = \"No has subido una imagen.\";\r\n            statusC2 = \"error\";\r\n            this.delStatus();\r\n          } else {\r\n            //* subir imagen al backend\r\n\r\n            var data = new FormData();\r\n\r\n            data.append(\"image\", this.image2);\r\n            data.append(\"_method\", \"POST\");\r\n\r\n            let result = await this.$store.dispatch(\"blog/addItemBlo\", {\r\n              option: \"blog-image\",\r\n              item: data,\r\n            });\r\n\r\n            if (result.status == \"success\") {\r\n              let array = [];\r\n              for (const img of this.images) {\r\n                array.push(img);\r\n              }\r\n              array.push(result.fileName);\r\n              this.images = array;\r\n\r\n              item2 = { imagen: result.fileName, tipo: this.caja2 };\r\n            } else {\r\n              this.status = \"error\";\r\n              this.message = result.message;\r\n              statusC2 = \"error\";\r\n              //enviar a borrar la imagen\r\n            }\r\n          }\r\n        } else {\r\n          statusC2 = \"error\";\r\n        }\r\n\r\n        if (statusC1 == \"success\" && statusC2 == \"success\") {\r\n          let model = { caja: [item1, item2], tipo: tipo };\r\n\r\n          let array = [];\r\n          for (const bloque of this.body) {\r\n            array.push(bloque);\r\n          }\r\n\r\n          array.push(model);\r\n          this.body = array;\r\n          this.texto = \"\";\r\n          this.texto2 = \"\";\r\n          this.frase_destacada = \"\";\r\n          this.frase_destacada2 = \"\";\r\n          this.frase = \"\";\r\n          this.frase2 = \"\";\r\n          this.firma = \"\";\r\n          this.firma2 = \"\";\r\n          this.image = \"\";\r\n          this.name_imagen = \"\";\r\n          this.image2 = \"\";\r\n          this.name_imagen2 = \"\";\r\n        } else {\r\n          this.status = \"error\";\r\n          this.message = \"Una de las cajas esta vacia.\";\r\n\r\n          this.delStatus();\r\n        }\r\n      } else {\r\n        this.status = \"error\";\r\n        this.message = \"Selecciona un tipo de bloque.\";\r\n        this.delStatus();\r\n      }\r\n    },\r\n\r\n    delStatus: function () {\r\n      setTimeout(() => this.delMsgs(), 2000);\r\n    },\r\n    delMsgs: function () {\r\n      this.status = \"\";\r\n      this.message = \"\";\r\n    },\r\n\r\n    toolbar: function () {\r\n      if (this.tipo == \"video\") {\r\n        return [[\"video\"]];\r\n      } else if (this.tipo == \"imagen\") {\r\n        return [[\"image\"]];\r\n      } else {\r\n        return [\r\n          [\"bold\", \"italic\", \"underline\", \"strike\"], // toggled buttons\r\n          [\"blockquote\", \"code-block\"],\r\n\r\n          [{ header: 1 }, { header: 2 }], // custom button values\r\n          [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n          [{ script: \"sub\" }, { script: \"super\" }], // superscript/subscript\r\n          [{ indent: \"-1\" }, { indent: \"+1\" }], // outdent/indent\r\n          [{ direction: \"rtl\" }], // text direction\r\n\r\n          [{ size: [\"small\", false, \"large\", \"huge\"] }], // custom dropdown\r\n          [{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n          // [ 'link','image' ,'video' ],          // add's image support\r\n          [{ color: [] }, { background: [] }], // dropdown with defaults from theme\r\n          [{ font: [] }],\r\n          [{ align: [] }],\r\n\r\n          [\"clean\"], // remove formatting button\r\n        ];\r\n      }\r\n    },\r\n    previewFiles(e) {\r\n      var files = e.target.files || e.dataTransfer.files;\r\n      if (!files.length) return;\r\n      this.image = files[0];\r\n\r\n      this.name_imagen = this.image.name;\r\n    },\r\n\r\n    previewFiles3(e) {\r\n      var files = e.target.files || e.dataTransfer.files;\r\n      if (!files.length) return;\r\n      this.image2 = files[0];\r\n\r\n      this.name_imagen2 = this.image2.name;\r\n    },\r\n\r\n    previewFiles2(e) {\r\n      var files = e.target.files || e.dataTransfer.files;\r\n      if (!files.length) return;\r\n      this.file1 = files[0];\r\n      this.archivo = this.file1.name;\r\n    },\r\n\r\n    srcImg: function (img) {\r\n      let src = `${urlpath.url()}/Y4k_o1b/lw4-ufj/blog-img/${img}`;\r\n\r\n      //this.status_img(img)\r\n\r\n      return src;\r\n    },\r\n    status_img: async function (img) {\r\n      let payload = {\r\n        option: \"colaboradores\",\r\n        image: img,\r\n      };\r\n      let response = \"\";\r\n\r\n      try {\r\n        response = await this.$store.dispatch(\"main/getStatusImage\", payload);\r\n        if (response.data.status == \"error\") {\r\n          this.statusimg = \"error\";\r\n        } else {\r\n          this.statusimg = \"success\";\r\n        }\r\n      } catch (err) {\r\n        this.statusimg = \"error\";\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.opciones-bloque {\r\n  min-height: 20vw;\r\n}\r\n\r\n/* QUILL EDITOR */\r\n.quill-editor,\r\n.quill-editor-imagen,\r\n.quill-editor-video {\r\n  margin-bottom: 3vw;\r\n  margin-top: 1vw;\r\n}\r\n.quill-editor {\r\n  width: 53.65vw;\r\n}\r\n.quill-editor-imagen,\r\n.quill-editor-video {\r\n  width: 27.65vw;\r\n}\r\n\r\n.tbl1,\r\n.tbl2 {\r\n  width: 20vw;\r\n\r\n  margin-right: 1vw;\r\n}\r\n\r\np.et1 {\r\n  width: 15vw;\r\n  cursor: default;\r\n}\r\np.elim {\r\n  cursor: pointer;\r\n  color: var(--color-3) !important;\r\n}\r\n\r\n.bodytbl {\r\n  height: 10vw;\r\n  overflow: auto;\r\n  padding: 1vw;\r\n  background: var(--color-2);\r\n}\r\np.etiqueta {\r\n  color: var(--color-5);\r\n\r\n  font-size: 0.6vw;\r\n}\r\n\r\n.hdreti {\r\n  background: var(--color-1);\r\n  padding: 0.5vw 1vw;\r\n  color: var(--color-5);\r\n  font-weight: 600;\r\n  font-size: 0.8vw;\r\n}\r\n\r\n#AddBlo label {\r\n  color: var(--color-2);\r\n  font-weight: 700;\r\n  font-size: 0.7291666666666666vw;\r\n  margin-bottom: 0.3vw;\r\n}\r\n\r\n#AddBlo input,\r\n#AddBlo select {\r\n  height: 2.5vw;\r\n  width: 13.716666666666668vw;\r\n  border: 0.052083vw solid var(--color-2);\r\n  border-radius: 0vw 1.5vw 1.5vw 0vw;\r\n  color: var(--color-2);\r\n  font-size: 0.7291666666666666vw;\r\n  font-weight: 500;\r\n  padding-left: 1.09375vw;\r\n  padding-right: 1vw;\r\n  margin-right: 2vw;\r\n}\r\n\r\n#select-role {\r\n  height: 2.5vw;\r\n  width: 14.716667vw;\r\n  border: 0.052083vw solid var(--color-2);\r\n  border-radius: 0vw 1.5vw 1.5vw 0vw;\r\n  color: var(--color-2);\r\n  font-size: 0.7291666666666666vw;\r\n  font-weight: 500;\r\n  padding-left: 1.09375vw;\r\n  display: flex;\r\n  align-items: center;\r\n  background-image: url(\"../../assets/blueflecha.svg\");\r\n  background-repeat: no-repeat;\r\n  background-position-y: center;\r\n  background-position-x: 12.6vw;\r\n}\r\n#select-role.rounded {\r\n  border-radius: 0vw 1.5vw 0vw 0vw;\r\n  border-left: 0.052083vw solid var(--color-2);\r\n  border-right: 0.052083vw solid var(--color-2);\r\n  border-top: 0.052083vw solid var(--color-2);\r\n  border-bottom: 0;\r\n}\r\n#select-ch:checked ~ .options-cont {\r\n  display: flex;\r\n  position: absolute;\r\n  padding: 0.573vw 1.25vw;\r\n  flex-direction: column;\r\n  background-color: white;\r\n  width: 12.3vw;\r\n  border-left: 0.052083vw solid var(--color-2);\r\n  border-right: 0.052083vw solid var(--color-2);\r\n  border-top: 0;\r\n  border-bottom: 0.052083vw solid var(--color-2);\r\n}\r\n#select-ch:checked ~ .options-cont,\r\n#select-ch2:checked ~ .options-cont,\r\n#select-ch3:checked ~ .options-cont,\r\n#select-ch4:checked ~ .options-cont,\r\n#select-ch5:checked ~ .options-cont,\r\n#select-ch6:checked ~ .options-cont,\r\n#select-ch7:checked ~ .options-cont {\r\n  display: flex;\r\n  position: absolute;\r\n  padding: 0.573vw 1.25vw;\r\n  flex-direction: column;\r\n  background-color: white;\r\n  width: 13.32vw;\r\n  border-left: 0.052083vw solid var(--color-2);\r\n  border-right: 0.052083vw solid var(--color-2);\r\n  border-top: 0;\r\n  border-bottom: 0.052083vw solid var(--color-2);\r\n}\r\n\r\n.buscador input {\r\n  width: 15.312500000000002vw;\r\n  border: none !important;\r\n  border-radius: none !important;\r\n  height: 1.5625vw !important;\r\n  color: #8d8d8d;\r\n}\r\n.mtbtn {\r\n  margin-left: 16vw !important;\r\n  margin-top: 1.4vw;\r\n  margin-left: 16vw;\r\n}\r\n\r\n.optionsbl {\r\n  margin-top: 1vw;\r\n}\r\n\r\n.col1 {\r\n  width: 5vw;\r\n  text-align: center;\r\n}\r\n.col2 {\r\n  width: 5vw;\r\n  text-align: center;\r\n}\r\n.col3 {\r\n  overflow: auto;\r\n  width: 56vw;\r\n}\r\n.cl3t {\r\n  text-align: center;\r\n}\r\n\r\n.col3 p {\r\n  padding-left: 1vw;\r\n}\r\n.col4 {\r\n  width: 5vw;\r\n  text-align: center;\r\n}\r\n\r\n.header-bc p {\r\n  margin-right: 1px;\r\n  color: aliceblue;\r\n  background: var(--color-2);\r\n  margin-bottom: 0vw;\r\n  font-weight: 600;\r\n  padding: 0.5vw 0vw;\r\n}\r\n\r\n.bloq-item {\r\n  border-bottom: 0.2vw solid var(--color-2);\r\n  color: var(--color-2);\r\n}\r\n\r\n.bloq-item h2:hover {\r\n  color: var(--color-1);\r\n}\r\n\r\n.bloques-cont {\r\n  width: 71vw;\r\n  margin-bottom: 5vw;\r\n}\r\n\r\nh2.cp {\r\n  cursor: pointer;\r\n}\r\n.caja1,\r\n.caja2 {\r\n  width: 50%;\r\n}\r\n\r\n.col3 img {\r\n  width: 72%;\r\n  padding: 0.5vw 3.5vw;\r\n}\r\n\r\n.col3 iframe {\r\n  padding: 0.5vw 3.5vw;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}